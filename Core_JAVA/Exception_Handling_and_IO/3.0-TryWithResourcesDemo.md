# Write a program to demonstrate the try-with-resources statement for automatic resource management (e.g., BufferedReader, FileWriter). [High]

```java

import java.io.*;

public class TryWithResourcesDemo {
    public static void main(String[] args) {
        String fileName = "sample.txt";

        // Writing to file using try-with-resources
        try (FileWriter writer = new FileWriter(fileName)) {
            writer.write("Hello, this is a sample text.\n");
            writer.write("Try-with-resources automatically closes the writer.\n");
            System.out.println("File written successfully.");
        } catch (IOException e) {
            System.out.println("Error writing file: " + e.getMessage());
        }

        try (BufferedReader reader = new BufferedReader(new FileReader(fileName))) {
            String line;
            System.out.println("\nReading file content:");
            while ((line = reader.readLine()) != null) {
                System.out.println(line);
            }
        } catch (IOException e) {
            System.out.println("Error reading file: " + e.getMessage());
        }
    }
}


```

- try-with-resources automatically closes FileWriter and BufferedReader after use, even if an exception occurs.

- No need to manually call .close().

- Works with any class that implements AutoCloseable.

## Example Run:

```java

File written successfully.

Reading file content:
Hello, this is a sample text.
Try-with-resources automatically closes the writer.

```

