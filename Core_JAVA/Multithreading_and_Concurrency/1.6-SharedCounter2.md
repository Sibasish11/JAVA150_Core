# Solve the race condition problem (Q106) using the synchronized keyword on a method. [Medium]

```java


- In Q106, multiple threads updated a shared counter simultaneously,
  leading to incorrect results.
- Using the synchronized keyword ensures only one thread at a time can
  execute the increment() method, preventing data inconsistency.

class SharedCounter {
    int count = 0; // shared variable

    // Synchronized method ensures thread-safety
    public synchronized void increment() {
        count++;
    }
}

class CounterThread extends Thread {
    SharedCounter counter;

    CounterThread(SharedCounter counter) {
        this.counter = counter;
    }

    public void run() {
        for (int i = 0; i < 1000; i++) {
            counter.increment();
        }
    }
}

public class SynchronizedCounterDemo {
    public static void main(String[] args) {
        SharedCounter counter = new SharedCounter();

        CounterThread t1 = new CounterThread(counter);
        CounterThread t2 = new CounterThread(counter);
        CounterThread t3 = new CounterThread(counter);

        t1.start();
        t2.start();
        t3.start();

        try {
            t1.join();
            t2.join();
            t3.join();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("Final counter value (expected 3000): " + counter.count);
    }
}


```

### Output:

```java
Final counter value (expected 3000): 3000
```
