# Write a program to demonstrate the use of Callable and Future interfaces for tasks that return a result and/or throw an exception. [High]

```java


import java.util.concurrent.*;

class SquareCalculator implements Callable<Integer> {
    private final int number;

    public SquareCalculator(int number) {
        this.number = number;
    }

    @Override
    public Integer call() throws Exception {
        if (number < 0) {
            throw new IllegalArgumentException("Number cannot be negative: " + number);
        }
        System.out.println("Calculating square of " + number + " in " + Thread.currentThread().getName());
        Thread.sleep(1000); // simulate time-consuming task
        return number * number;
    }
}

public class CallableFutureDemo {
    public static void main(String[] args) {
        ExecutorService executor = Executors.newFixedThreadPool(2);

        Future<Integer> future1 = executor.submit(new SquareCalculator(5));
        Future<Integer> future2 = executor.submit(new SquareCalculator(10));
        Future<Integer> future3 = executor.submit(new SquareCalculator(-3)); // will throw exception

        try {
            System.out.println("Result of 5^2: " + future1.get()); // blocking until result is ready
            System.out.println("Result of 10^2: " + future2.get());

            // This one will throw ExecutionException wrapping IllegalArgumentException
            System.out.println("Result of -3^2: " + future3.get());
        } catch (ExecutionException e) {
            System.err.println("Exception occurred in task: " + e.getCause());
        } catch (InterruptedException e) {
            System.err.println("Task was interrupted");
        }

        executor.shutdown();
    }
}


```

## Example Output:

```java

Calculating square of 5 in pool-1-thread-1
Calculating square of 10 in pool-1-thread-2
Result of 5^2: 25
Result of 10^2: 100
Calculating square of -3 in pool-1-thread-1
Exception occurred in task: java.lang.IllegalArgumentException: Number cannot be negative: -3

```
